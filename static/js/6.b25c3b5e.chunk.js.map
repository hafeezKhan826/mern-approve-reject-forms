{"version":3,"sources":["components/commons/header/department-header.js","components/department-components/card.js","components/department-components/cards-layout.js","components/department-components/form-template.js","components/department-components/form-modal.js","components/department-components/department-wrapper.js"],"names":["DepartmentHeader","toggleCollapse","setState","isOpen","state","logout","localStorage","clear","activeItem","color","dark","expand","className","this","props","userDetails","fullName","departmentName","onClick","id","navbar","left","right","to","fab","icon","React","Component","Card","userid","getItem","submitAcceptance","payload","axios","post","port","headers","then","result","console","log","alert","data","message","window","location","reload","catch","err","param","style","width","margin","title","status","assignedUser","createdByUser","userAssignedTo","formId","_id","acceptStatus","showNotification","token","CardsLayout","cards","departmentId","get","forms","length","map","form","key","FormTemplate","departments","users","usersEnabled","handleSubmit","bind","handleChange","deptId","userId","e","preventDefault","createdBy","event","input","target","name","value","onSubmit","label","type","validate","error","success","onChange","autoFocus","group","rows","caret","basic","dept","getUsersFromDept","disabled","user","setUser","toggle","modalOpen","Modal","Dialog","Header","Title","Body","DepartmentWrapper","routeToAuth","size"],"mappings":"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","file":"static/js/6.b25c3b5e.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n    MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBIcon\r\n} from \"mdbreact\";\r\n\r\nexport default class DepartmentHeader extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            activeItem: '1',\r\n            isOpen: false\r\n        }\r\n    }\r\n    toggleCollapse = () => {\r\n        this.setState({ isOpen: !this.state.isOpen });\r\n    }\r\n    logout = () => {\r\n        localStorage.clear();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MDBNavbar color=\"default-color\" dark expand=\"md\">\r\n                <MDBNavbarBrand>\r\n                    <div className=\"white-text\">Name:\r\n                        {this.props.userDetails ?\r\n                            (this.props.userDetails.fullName ?\r\n                                this.props.userDetails.fullName : '') :\r\n                            ''}\r\n                    </div>\r\n                    <div className=\"white-text\">Department:\r\n                        {this.props.userDetails ?\r\n                            (this.props.userDetails.departmentName ?\r\n                                this.props.userDetails.departmentName : '') :\r\n                            ''}\r\n                    </div>\r\n                </MDBNavbarBrand>\r\n                <MDBNavbarToggler onClick={this.toggleCollapse} />\r\n                <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\r\n                    <MDBNavbarNav left>\r\n                    </MDBNavbarNav>\r\n                    <MDBNavbarNav right>\r\n                        <MDBNavItem>\r\n                            <MDBNavLink className=\"waves-effect waves-light\" to=\"#!\">\r\n                                <MDBIcon fab icon=\"twitter\" />\r\n                            </MDBNavLink>\r\n                        </MDBNavItem>\r\n                        <MDBNavItem>\r\n                            <MDBNavLink className=\"waves-effect waves-light\" to=\"#!\">\r\n                                <MDBIcon fab icon=\"lightbulb-o\" />\r\n                            </MDBNavLink>\r\n                        </MDBNavItem>\r\n                        <MDBNavItem>\r\n                            <MDBNavLink className=\"waves-effect waves-light\" to=\"/auth\" onClick={this.logout}>\r\n                                <MDBIcon icon=\"power-off\" />\r\n                            </MDBNavLink>\r\n                        </MDBNavItem>\r\n                    </MDBNavbarNav>\r\n                </MDBCollapse>\r\n            </MDBNavbar >\r\n\r\n        );\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardTitle, MDBCardText } from 'mdbreact';\r\nimport axios from 'axios';\r\n// import Dialog from './dialog';\r\n\r\nconst port = 'http://localhost:8000/';\r\nconst Card = (props) => {\r\n\r\n    const userid = localStorage.getItem('userid') || '5d83b81f45286b1e90ee4b25';\r\n    const acceptForm = (formId) => {\r\n        const payload = {\r\n            formId,\r\n            acceptStatus: 'accepted',\r\n            showNotification: false\r\n        }\r\n        submitAcceptance(payload);\r\n    }\r\n\r\n    const rejectForm = (formId) => {\r\n        const payload = {\r\n            formId,\r\n            acceptStatus: 'rejected'\r\n        }\r\n        submitAcceptance(payload);\r\n    }\r\n\r\n    const submitAcceptance = (payload) => {\r\n        if (payload) {\r\n            axios\r\n                .post(port + 'form/accept-reject', payload, { headers: { userid } })\r\n                .then((result) => {\r\n                    console.log(result);\r\n                    alert(result.data.message)\r\n                    window.location.reload();\r\n                    return ''\r\n                })\r\n                .catch((err) => console.log(err))\r\n        }\r\n    }\r\n    const { param } = props;\r\n    return (\r\n        <MDBCard style={{ width: \"16rem\", margin: '0px 10px 20px 0px' }}>\r\n            <MDBCardBody>\r\n\r\n                <MDBCardTitle><h1>{param.title ? param.title : 'Card title'}</h1></MDBCardTitle>\r\n                <MDBCardText>\r\n                    <p>\r\n                        {param.message}\r\n                    </p>\r\n                </MDBCardText>\r\n\r\n                <div>\r\n                    <b> Accepted Status </b> : {param.status}\r\n                </div>\r\n                <div>\r\n                    <b> Assigned To </b> : {param.assignedUser}\r\n                </div>\r\n                <div>\r\n                    <b> Created By </b> : {param.createdByUser}\r\n                </div>\r\n                {\r\n                    param.userAssignedTo === userid ?\r\n                        param.status === 'pending' ?\r\n                            <Fragment>\r\n                                <Fragment>\r\n                                    <MDBBtn onClick={() => acceptForm(param._id)}>Accept</MDBBtn>\r\n                                    <MDBBtn onClick={() => rejectForm(param._id)}>Reject</MDBBtn>\r\n                                </Fragment>\r\n                            </Fragment>\r\n                            : '' : ''\r\n                }\r\n            </MDBCardBody>\r\n        </MDBCard >\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { MDBRow, MDBContainer } from 'mdbreact';\r\nimport axios from 'axios';\r\nimport Card from './card';\r\nconst port = 'http://localhost:8000/';\r\nconst userid = localStorage.getItem('userid');\r\nconst token = localStorage.getItem('token');\r\n\r\nexport default class CardsLayout extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            cards: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const { departmentId } = this.props;\r\n        axios.get(port + 'form/get-all-dept-forms?departmentId=' + departmentId, {\r\n            headers: { userid, token }\r\n        })\r\n            .then((result) => {\r\n                if (result.data.forms) {\r\n                    this.setState({\r\n                        cards: result.data.forms\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => console.log({ err }))\r\n\r\n    }\r\n\r\n    render() {\r\n        const forms = this.state.cards;\r\n        return (\r\n            <MDBContainer className=\"container-fluid\">\r\n                <MDBRow>\r\n                    {forms.length == 0 ?\r\n                        <h1>No Forms found</h1> :\r\n                        (forms.map((form) => <Card param={form} key={form._id} />))\r\n                    }\r\n                </MDBRow>\r\n            </MDBContainer>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    MDBContainer, MDBRow, MDBBtn, MDBInput, MDBDropdown, MDBDropdownItem, MDBDropdownMenu, MDBDropdownToggle\r\n} from 'mdbreact';\r\nconst port = 'http://localhost:8000/';\r\nconst userid = localStorage.getItem('userid') || '5d83b81f45286b1e90ee4b25';\r\n\r\nexport default class FormTemplate extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            title: '',\r\n            message: '',\r\n            departmentId: '',\r\n            userAssignedTo: '',\r\n            departments: [],\r\n            users: [],\r\n            usersEnabled: true\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(port + 'department/all-departments')\r\n            .then((result) => {\r\n                const departments = result.data.departments ? result.data.departments : []\r\n                this.setState({ departments })\r\n                console.log(result.data.departments);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    getUsersFromDept(deptId) {\r\n        this.setState({\r\n            departmentId: deptId\r\n        })\r\n        axios.get(port + 'users/get-users-from-dept?deptId=' + deptId)\r\n            .then((result) => {\r\n                const users = result.data.users ? result.data.users : []\r\n                this.setState({ users })\r\n                console.log(result.data.users);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    setUser(userId) {\r\n        this.setState({\r\n            userAssignedTo: userId\r\n        })\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { departmentId, userAssignedTo, message, title } = this.state;\r\n        let payload = {\r\n            departmentId,\r\n            userAssignedTo,\r\n            message,\r\n            title,\r\n            createdBy: userid,\r\n            status: 'pending'\r\n        }\r\n        axios.post(port + 'form/submit-form', payload, { headers: { userid } })\r\n            .then((result) => {\r\n                alert(result.data.message);\r\n                window.location.reload();\r\n            })\r\n            .catch((err) => console.log({ err }))\r\n    }\r\n    handleChange(event) {\r\n        let input = event.target;\r\n        this.setState({ [input.name]: input.value });\r\n    }\r\n    render() {\r\n        const { title, message, departments, usersEnabled, users } = this.state;\r\n        return (\r\n            <MDBContainer className='d-flex justify-content-center'>\r\n                <MDBRow>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"grey-text\">\r\n                            <MDBInput\r\n                                label=\"Title of the message\"\r\n                                type=\"text\"\r\n                                validate\r\n                                error=\"wrong\"\r\n                                success=\"right\"\r\n                                name=\"title\"\r\n                                onChange={this.handleChange}\r\n                                value={title}\r\n                                autoFocus={true}\r\n                            />\r\n                            <MDBInput\r\n                                label=\"Your message\"\r\n                                group\r\n                                type=\"textarea\"\r\n                                rows='5'\r\n                                validate\r\n                                error=\"wrong\"\r\n                                success=\"right\"\r\n                                name=\"message\"\r\n                                onChange={this.handleChange}\r\n                                value={message}\r\n                            />\r\n\r\n                            <MDBDropdown>\r\n                                <MDBDropdownToggle caret color=\"default\">\r\n                                    Select Department\r\n                                    </MDBDropdownToggle>\r\n                                <MDBDropdownMenu basic>\r\n                                    {departments.length > 0 ?\r\n                                        departments.map((dept) => <MDBDropdownItem onClick={() => this.getUsersFromDept(dept.departmentId)} key={dept._id}>{dept.name}</MDBDropdownItem>) : ''}\r\n                                    {/* <MDBDropdownItem divider />\r\n                                    <MDBDropdownItem active onClick={this.addNewDepartment}>Add New Department</MDBDropdownItem> */}\r\n                                </MDBDropdownMenu>\r\n                            </MDBDropdown>\r\n\r\n                            <MDBDropdown disabled={usersEnabled}>\r\n                                <MDBDropdownToggle caret color=\"default\">\r\n                                    Select User\r\n                                    </MDBDropdownToggle>\r\n                                <MDBDropdownMenu basic>\r\n                                    {users.length > 0 ?\r\n                                        users.map((user) => <MDBDropdownItem onClick={() => this.setUser(user._id)} key={user._id}>{user.fullName}</MDBDropdownItem>) : ''}\r\n                                </MDBDropdownMenu>\r\n                            </MDBDropdown>\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <MDBBtn type='submit'>Send</MDBBtn>\r\n                        </div>\r\n                    </form>\r\n                </MDBRow>\r\n            </MDBContainer>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Modal } from 'react-bootstrap'\r\nimport FormTemplate from './form-template'\r\n\r\nexport default class CardsLayout extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            modalOpen: false\r\n        }\r\n    }\r\n    toggle = () => {\r\n        this.setState({\r\n            modalOpen: !this.state.modalOpen\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Dialog>\r\n                    <Modal.Header>\r\n                        <Modal.Title>Add a new form</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <FormTemplate />\r\n                    </Modal.Body>\r\n                </Modal.Dialog>\r\n            </div>)\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport DepartmentHeader from \"../commons/header/department-header\";\r\nimport CardsLayout from \"./cards-layout\";\r\nimport FormModal from './form-modal';\r\nimport { Redirect } from 'react-router';\r\nimport { MDBContainer, MDBRow, MDBCol } from \"mdbreact\";\r\nimport axios from 'axios';\r\nconst port = 'http://localhost:8000/';\r\n\r\nexport default class DepartmentWrapper extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            routeToAuth: false,\r\n            userDetails: {}\r\n        }\r\n        const userid = localStorage.getItem('userid');\r\n        const token = localStorage.getItem('token');\r\n        if (!(userid && token)) {\r\n\r\n            this.setState({\r\n                routeToAuth: true\r\n            })\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        const userid = localStorage.getItem('userid');\r\n        const token = localStorage.getItem('token');\r\n\r\n        if (userid && token) {\r\n            axios\r\n                .get(port + 'users/get-users-details', { headers: { token, userid } })\r\n                .then((result) => {\r\n                    this.setState({\r\n                        userDetails: result.data.user\r\n                    })\r\n                })\r\n                .catch((err) => console.log({ err }))\r\n        } else {\r\n            this.setState({\r\n                routeToAuth: true\r\n            })\r\n        }\r\n\r\n    }\r\n    render() {\r\n        const { userDetails, routeToAuth } = this.state;\r\n        return (\r\n            <Fragment>\r\n                {routeToAuth ?\r\n                    <Redirect to='/auth' /> :\r\n                    <Fragment>\r\n                        <DepartmentHeader userDetails={userDetails} />\r\n                        <MDBContainer style={{ \"margin\": \"0px\", \"margin-top\": \"20px\" }}>\r\n                            <MDBRow>\r\n                                <MDBCol size=\"9\">\r\n                                    <Fragment style={{ \"margin-top\": \"20px\" }}>\r\n\r\n                                        <h1>Forms assinged to your department</h1>\r\n                                        {userDetails.departmentId ?\r\n                                            <CardsLayout departmentId={userDetails.departmentId} /> :\r\n                                            ''\r\n                                        }\r\n                                    </Fragment>\r\n                                </MDBCol>\r\n                                <MDBCol size=\"3\"><FormModal /></MDBCol>\r\n                            </MDBRow>\r\n                        </MDBContainer>\r\n                    </Fragment>\r\n                }\r\n            </Fragment>\r\n        )\r\n    }\r\n}"],"sourceRoot":""}